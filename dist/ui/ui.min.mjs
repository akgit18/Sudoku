function e(a,b){if(16>a)return Uint8Array;if(b("This Sudoku is likely too big to solve in a reasonable amount of time. Are you sure that you'd like to continue?")){if(256>a)return Uint16Array;if(65536>a)return Uint32Array;throw new RangeError(`This Sudoku (box size ${a}) is too big too solve!`);}throw Error("Sudoku solving stopped by user.");}if(!self.Worker)throw Error("Browser does not support web workers. Please use a more modern browser.");const k=new URL("../solver/solver.min.mjs",import.meta.url),
m=new Worker(k,{type:"module"});let n=3;const p=document.getElementById("board");function q(){let a=!1;p.style.setProperty("--edgeSize",(n**2).toString(10));const b=[];for(let g=0;g<n**2;g++){0==g%n&&(a=!a);for(let f=0;f<n**2;f++){(0<f||0==n%2)&&0==f%n&&(a=!a);const l=document.createElement("input");var c=l,d=a,h=Math.ceil(Math.log10(n**2+1));c.inputMode="numeric";c.size=h;c.maxLength=h;c.autocomplete="off";d?c.classList.add("col1"):c.classList.add("col2");b.push(l)}}p.replaceChildren(...b)}function r(a,
b){a=new (e(Math.sqrt(b),()=>!0))(a,0,b**2);for(let c=0;c<b**2;++c)p.children[c].value=a[c]?.toString()??""}const t=new Promise(a=>document.body.onload=a);t.then(()=>{q();document.getElementById("cboard").onclick=()=>{confirm("Are you sure? This will erase any data you have currently entered.")&&q()};document.getElementById("sboard").onclick=()=>{var b=n,c=e(b,confirm),d=b**2,h=document.getElementById("board");b=new ArrayBuffer(c.BYTES_PER_ELEMENT*d**2);c=new c(b,0,d**2);for(let f=0;f<d**2;++f){const l=
parseInt(h.children[f].value,10);c[f]=0<l?l:-1}d=document.getElementsByClassName("lcb");h=3;for(g of d)g.checked&&(h|=1<<parseInt(g.value,10));var g=h;d=document.getElementById("method").value;m.postMessage({type:1,data:{h:n,g:b,rules:g,method:d}},[b])};m.onmessage=b=>{b=b.data;switch(b.type){case -1:const c=b.data.j;r(b.data.g,b.data.i);console.log(`Solved in ${c} milliseconds.`);break;case -2:b=b.data;(b instanceof Error||"string"===typeof b)&&alert(b);console.error(b);break;default:console.error("Unsupported message from worker to main thread:",
b)}};m.onerror=b=>{console.error("worker error:",b)};m.m=b=>{console.error("message error for:",b)};const a=document.getElementById("Size");a.onchange=()=>{var b=a.value;confirm("Are you sure? This will erase any data you have currently entered.")?(n=parseInt(b,10),q()):a.value=n.toString(10)};for(const b of document.getElementsByClassName("lb1"))b.onchange=()=>{b.className=b.children[0].checked?"col2":"lb1"}});let u="Translator"in self,v=void 0,w=void 0;async function x(){for(const b of navigator.languages){var a=
new Intl.Locale(b);a=a.script?`${a.language}-${a.script}`:a.language;if("en"===a){u=!1;return}try{switch(await Translator.availability({sourceLanguage:"en",targetLanguage:a})){case "downloadable":case "downloading":console.log(`Please finish downloading the ${a} translation pack and reload.`);break;case "available":return a}}catch{}}u=!1}async function y(a,b,c=3){if(0>=c)return u=!1,a;try{return await b.translate(a)}catch(d){if(d instanceof DOMException)switch(d.name){case "QuotaExceededError":return console.error(d),
a;case "AbortError":return z(a,c-1);default:return y(a,b,c-1)}else return console.error(d),a}}async function z(a,b){if(0>=b)return u=!1,a;if(!w)return console.error("Translation Error: target language somehow became undefined after it was defined"),a;try{return v=await Translator.create({sourceLanguage:"en",targetLanguage:w}),y(a,v,b)}catch(c){if(c instanceof DOMException)switch(c.name){case "NotAllowedError":console.error(c);case "NotSupportedError":return u=!1,a;default:return z(a,b-1)}else return a}}
async function A(a){if(v)return y(a,v,3);w=await x();return u&&w?z(a,3):a}const B={l:"The quick red fox jumped over the lazy brown dog.",o:"Browser does not support web workers. Please use a more modern browser."};u&&t.then(async()=>{for(const a in B)B[a]=await A(B[a]);console.log("translated phrases: ",B)});export{};//# sourceMappingURL=ui.min.mjs.map
